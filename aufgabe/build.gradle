apply plugin:'java'

repositories {
    mavenCentral()
}

dependencies {
	testCompile 'junit:junit:4.8.2'
}

test {
  outputs.upToDateWhen { false }
  testLogging {
    exceptionFormat = 'full'
  }
  afterTest { desc, result ->
      println "Executing test ${desc.name} [${desc.className}] with result: ${result.resultType}"
  }
}

task run(type:JavaExec, dependsOn:compileJava) {
   main = System.getProperty("main")
   classpath = sourceSets.main.runtimeClasspath
}

sourceSets {
    main {
        java {
            srcDir 'src'
        }
    }
    test {
        java {
            srcDir 'test'
        }
    }
}
